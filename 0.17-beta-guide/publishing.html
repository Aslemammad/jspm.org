<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Publishing | jspm 0.17 Beta Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.3">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./peer-dependencies.html" />
    
    
    <link rel="prev" href="./static-builds-with-rollup-optimization.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="12"
        data-chapter-title="Publishing"
        data-filepath="publishing.md"
        data-basepath="."
        data-revision="Mon Feb 27 2017 09:57:14 GMT+0200 (SAST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="creating-a-project.html">
            
                
                    <a href="./creating-a-project.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Creating a Project
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="development-bundling.html">
            
                
                    <a href="./development-bundling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Development Bundling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="hot-reloading.html">
            
                
                    <a href="./hot-reloading.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Hot-Reloading
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="package-configuration.html">
            
                
                    <a href="./package-configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Package Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="installing-the-jsx-babel-plugin.html">
            
                
                    <a href="./installing-the-jsx-babel-plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Installing the JSX Babel Plugin
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="universal-js-with-server-rendering.html">
            
                
                    <a href="./universal-js-with-server-rendering.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Universal JS with Server Rendering
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="npm-package-support.html">
            
                
                    <a href="./npm-package-support.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        npm Package Support
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="bundling.html">
            
                
                    <a href="./bundling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Bundling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="loading-libraries-from-cdn.html">
            
                
                    <a href="./loading-libraries-from-cdn.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Loading Libraries from CDN
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="custom-package-resolutions.html">
            
                
                    <a href="./custom-package-resolutions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Custom Package Resolutions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="static-builds-with-rollup-optimization.html">
            
                
                    <a href="./static-builds-with-rollup-optimization.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Static Builds with Rollup Optimization
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="12" data-path="publishing.html">
            
                
                    <a href="./publishing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Publishing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="peer-dependencies.html">
            
                
                    <a href="./peer-dependencies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Peer Dependencies
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="linking.html">
            
                
                    <a href="./linking.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Linking
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="overrides.html">
            
                
                    <a href="./overrides.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Overrides
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="conditional-loading.html">
            
                
                    <a href="./conditional-loading.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Conditional Loading
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="conditional-substitution.html">
            
                
                    <a href="./conditional-substitution.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Conditional Substitution
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >jspm 0.17 Beta Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="publishing">Publishing</h2>
<p>With the static build of the component created, we can now publish this component.</p>
<p>While we can publish directly from the base-level, to keep things simple and avoid creating a <code>.npmignore</code>,
we can just create a new package.json file inside our <code>dist</code> folder, <code>dist/package.json</code>:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;jspm-react-component-demo&quot;</span>,
  <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.1.1&quot;</span>,
  <span class="hljs-string">&quot;registry&quot;</span>: <span class="hljs-string">&quot;npm&quot;</span>,
  <span class="hljs-string">&quot;peerDependencies&quot;</span>: {
    <span class="hljs-string">&quot;react&quot;</span>: <span class="hljs-string">&quot;^15.1.0&quot;</span>
  },
  <span class="hljs-string">&quot;jspmPackage&quot;</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">&quot;main&quot;</span>: <span class="hljs-string">&quot;jspm-react-component.js&quot;</span>,
  <span class="hljs-string">&quot;format&quot;</span>: <span class="hljs-string">&quot;amd&quot;</span>
}
</code></pre>
<p>We can then publish the package to npm with:</p>
<pre><code>cd dist
npm publish .
</code></pre><p>To explain the properties we&apos;ve set:</p>
<ul>
<li><code>name</code>, <code>version</code>: These are required for publishing to npm.</li>
<li><code>registry</code>: This property is a jspm-specific property which tells jspm how to interpret the dependencies
of the package. It&apos;s not strictly needed here, but is advisable to always set and we&apos;ll need it for the
linking workflow shortly.</li>
<li><code>peerDependencies</code>: We set the react dependency in our component as a peerDependency, as React doesn&apos;t support
multi-versions. This way it must always be resolved to a single version in the target environment.</li>
<li><code>jspmPackage</code>: This tells jspm to skip the Node package conversion process when installing the package.
 In jspm 0.16 this was called <code>jspmNodeConversion: false</code>.</li>
<li><code>main</code>, <code>format</code>: While <code>main</code> is supported by npm and NodeJS, <code>format</code> is a jspm-specific property which means
effectively that our umd build will be loaded as CommonJS in npm and AMD in jspm (this is mainly illustrative, there&apos;s no great reason why we&apos;ve chosen to do this here).
<em>These properties are both <a href="https://github.com/systemjs/systemjs/blob/master/docs/config-api.md#packages" target="_blank">SystemJS package configuration options</a> - jspm allows any of these package configuration options to be set directly in the package.json file.</em></li>
</ul>
<blockquote>
<p>The way we have written the package.json above is fully compatible with npm, while also
providing jspm-specific properties for added functionality in jspm. This approach of publishing based
on compatibility while enabling extra options for jspm is the recommended way to handle publishing to
the widest audience. If only publishing a package for jspm consumption, then this of course not a concern.</p>
</blockquote>
<p>We can then install this component into the demo app under a new name to avoid conflicts with:</p>
<pre><code>jspm install npm:jspm-react-component-demo
</code></pre><p>If we edit the original <code>test.js</code> file and replace the line:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> {HelloWorld} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;jspm-react-component&apos;</span>;
<span class="hljs-string">`
</span></code></pre>
<p>with:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> {HelloWorld} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;jspm-react-component-demo&apos;</span>;
</code></pre>
<p>This completes the loop of building a component for production to install back into a new app,
and since we&apos;ve been careful with our package.json configuration, this component will also support 
use in standard Node and npm install workflows as well.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./static-builds-with-rollup-optimization.html" class="navigation navigation-prev " aria-label="Previous page: Static Builds with Rollup Optimization"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./peer-dependencies.html" class="navigation navigation-next " aria-label="Next page: Peer Dependencies"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"ga":{"token":"UA-40327700-1","configuration":"auto"},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
